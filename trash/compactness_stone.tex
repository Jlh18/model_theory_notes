\subsection{Compactness via Stone spaces}
This section uses Stone spaces to provide an alternative way of getting
compactness.

\begin{nttn}
    To avoid confusion, 
    we denote the clopen sets in $S_n(T)$ as
    \[[\phi]_T = \set{p \in S_n(T) \st \phi \in p}\]
    Note that $[\phi]_T \ne [\phi]$ 
    (where the second is the clopen subset of $S(F(\Si,n))$) in general,
    as not all maximal filters on $F(\Si,n)$ are $n$-types over $T$.
\end{nttn}

\begin{prop}[The Stone space of a theory is compact]
    \link{stone_of_theo_compact}
    The Stone space of a $\Si$-theory $T$ is equal to the
    set of elements from $S(F(\Si,n))$ consistent with $T$.
    The subspace topology from $S(F(\Si,n))$ coincides with the 
    topology generated by clopen sets $[\phi]_T$ for formulas 
    $\phi \in S(F(\Si,n))$.
    This is a closed subspace of $S(F(\Si,n))$ hence it is compact.
\end{prop}
\begin{proof}
    We want that $p$ is a maximal $n$-type on $T$ if and only if 
    it is an ultrafilter on $F(\Si,n)$ consistent with $T$.
    Note that $p$ being an ultrafilter is equivalent to the statement
    for any element $\phi$ of the Boolean algebra 
    $\phi \in p$ or $\NOT \phi \in p$, which is precisely maximality.
    Both topologies are generated by the clopen sets $[\phi]_T$
    hence they are the same.
    
    To show that $S_n(T)$ is closed:
    \begin{align*}
        S_n(T) &= 
        \set{p \in S(F(\Si,n)) \st p \text{ consistent with $T$}}\\
        &= \set{p \in S(F(\Si,n)) \st \forall \phi \in T, \phi \in p} 
        \quad \text{ by maximality}\\
        &= \bigcap_{\phi \in T}\set{p  \in S(F(\Si,n)) \st \phi \in p}\\
        &= \bigcap_{\phi \in T}[\phi]
    \end{align*}
    and an intersection of clopen sets is closed. 
    \linkto{bool_alg_to_stone_functor}{$S(F(\Si,n))$} is compact and 
    closed in compact is compact so $S_n(T)$ is compact.
\end{proof}

\begin{lem}[Topological consistency]
    \link{topological_consistency}
    Let $p \in S(F(\Si,n))$ and $T$ be a $\Si$-theory.
    $p$ is consistent with $T$ if and only if 
    $\bigcap_{\phi \in p} [\phi]_T \text{ is non empty}$
\end{lem}
\begin{proof}
    \begin{forward}
        Suppose $p$ is consistent with $T$.
        Then $p \in S_n(T)$ thus for any $\phi \in p$, 
        $p \in [\phi]_T$. 
        Hence 
        \[ p \in \bigcap_{\phi \in p} [\phi]_T\]
    and it is non-empty.
    \end{forward}

    \begin{backward}
        Suppose 
        \[q \in \bigcap_{\phi \in p} [\phi]_T\]
        then $\forall \phi \in p, \phi \in q$.
        Thus by maximality of $p$, $p = q$.
        Hence $p = q \in S_n(T)$.
    \end{backward}
\end{proof}

\begin{prop}[Compactness theorem for types]
    \link{compactness_for_types_2}
    Let $p \in S(F(\Si,n))$ and $T$ be a $\Si$-theory.
    Then $p$ is consistent with $T$ if and only if $p$ if finitely consistent
    with $T$.
\end{prop}
\begin{proof}
    By definition $p$ is finitely consistent with $T$ if and only if 
    any finite subset of $p$ is consistent with $T$.
    Translating this to the topology, this is
    \linkto{topological_consistency}{if and only if} 
    for any finite subset $\De \subs p$,
    \[\bigcap_{\phi \in \De} [\phi]_T \text{ is non empty}\]
    By \linkto{stone_of_theo_compact}{topological compactness of $S_n(T)$} 
    this is if and only if 
    \[\bigcap_{\phi \in p} [\phi]_T \text{ is non empty}\]
    \linkto{topological_consistency}{Translating this back to model theory}
    this is if and only if $p$ is consistent with $T$.
\end{proof}

\begin{prop}[Compactness]
    A $\Si$-theory is consistent if and only if it is finitely consistent.
\end{prop}
\begin{proof}
    Suppose $T$ is a finitely consistent $\Si$-theory.
    Consider $T$ as a subset of $S(F(\Si,0))$.
    Then we can \linkto{make_max}{extend $T$} to $p$, 
    a maximal and finitely consistent 
    $\Si$-theory which can be seen as a $0$-type over $T$.
    By \linkto{compactness_for_types_2}{compactness for types} we have that 
    $p$ is in fact consistent.
    As $T \subs p$ we have that $T$ is also consistent.
\end{proof}